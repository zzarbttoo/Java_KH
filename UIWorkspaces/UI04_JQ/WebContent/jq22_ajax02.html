<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<style type="text/css">
* {
	margin: 0px;
	padding: 0px;
}

table {
	width: 900px;
}

table tr:nth-child(1) {
	background-color: orange;
}

fieldset {
	width: 400px;
}

body {
	width: 1000px;
	margin: 50px auto;
}
</style>

<script type = "text/javascript" src = "resources/js/jquery-3.5.1.min.js"></script>
<script type = "text/javascript" src = "resources/js/create_table.js"></script>
<script type = "text/javascript">

	$(function(){
		
		$("#emp_search").click(function(){
			
			$.ajax({
				
				//해당 경로에 있는 값이 원래 문자열로 오게 된다
				url : "emplist.xml",
				//dataType 하면 xml 객체로 만들어준다 = data가 된다
				dataType  : "xml",
				//request가 성공했을 때 함수 실행(파라미터 data)
				
				success : function(data){
					//서버로 보낼 데이터를 함수 값으로 넣어줌
					//find는 값에 해당하는 자식 요소를 찾아줘서, 새로운 jQuery object를 만들어준다
					//배열처럼 사용하게 된다
					var empRowList  = $(data).find("ROW");
					//script로 연결돼있기 때문에 그냥 함수를 사용할 수 있다
					//script 파일이 위에 있어야한다
					$("body").append(makeTable(empRowList));
					
				},
				error:function(){
					
					alert("통신 실패");
				}
				
			});
			
		});
		
	});

</script>


<body>


	<h1>데이터 가져오기</h1>

	<fieldset>
		<legend>사원 전체 조회</legend>
		<input type="button" value="조회" id="emp_search" />
	</fieldset>


</body>
</html>