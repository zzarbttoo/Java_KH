<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<style type="text/css">
* {
	margin: 0px;
	padding: 0px;
}

table {
	width: 900px;
}

table tr:nth-child(1) {
	background-color: orange;
}

fieldset {
	width: 400px;
}

body {
	width: 1000px;
	margin: 50px auto;
}
</style>

<script type = "text/javascript" src = "resources/js/jquery-3.5.1.min.js"></script>
<script type = "text/javascript" src = "resources/js/create_table.js"></script>
<script type = "text/javascript">

	$(function(){
		
		$("#emp_search").click(function(){
			
			$.ajax({
				
				url : "emplist.xml",
				dataType  : "xml",
				//request가 성공했을 때 함수 실행(파라미터 data)
				
				success : function(data){
					//서버로 보낼 데이터를 함수 값으로 넣어줌
					console.log(data);
					
					//find는 DOM tree를 찾아주는 함수
					var empRowList  = $(data).find("ROW");
					console.log(empRowList);
					console.log(makeTable(empRowList));
					$("body").append(makeTable(empRowList));
					
				},
				error:function(){
					
					alert("통신 실패");
				}
				
			});
			
		});
		
	});

</script>


<body>


	<h1>데이터 가져오기</h1>

	<fieldset>
		<legend>사원 전체 조회</legend>
		<input type="button" value="조회" id="emp_search" />
	</fieldset>


</body>
</html>